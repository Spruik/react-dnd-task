{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\25359\\\\sp\\\\react-dnd-task\\\\src\\\\components\\\\board.tsx\";\nimport * as React from \"react\";\nimport { DragDropContext } from \"react-beautiful-dnd\";\nimport styled from \"styled-components\";\nimport InputTask from \"./InputTask\"; // Import data for board\n\nimport { initialBoardData } from \"../data/board-initial-data\"; // Import BoardColumn component\n\nimport { BoardColumn } from \"./board-column\"; // Create styles board element properties\n\nconst BoardEl = styled.div`\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n`;\nconst AddTaskButton = styled.button`\n  border-radius: 8px;\n  margin-top: 10%;\n`;\nexport class Board extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      data: initialBoardData,\n      itemContent: \"\"\n    };\n\n    this.editContent = event => {\n      if (event.key === \"Enter\") {\n        //\n        let itemId = event.target.id;\n        let itemContent = event.target.value;\n        console.log(event.target.value);\n        console.log(event.target.id);\n        const newState = { ...this.state.data,\n          items: { ...this.state.data.items,\n            [itemId]: {\n              id: itemId,\n              content: itemContent\n            }\n          }\n        };\n        console.log(newState.items);\n        this.setState({\n          data: newState\n        });\n        event.target.blur();\n      }\n    };\n\n    this.showInputTask = () => {\n      this.setState({\n        itemContent: \"\"\n      });\n      let inputTask = document.getElementById(\"input-task\");\n      if (inputTask !== null) inputTask.style.display = \"block\";\n    };\n\n    this.addNewTask = () => {\n      if (this.state.itemContent === \"\") return; // auto generate item_id\n\n      let item_index = Object.keys(this.state.data.items).length + 1;\n      let item_id = \"item-\" + item_index; // default to put the new added items into column4\n\n      const columnAdd = this.state.data.columns[\"column-4\"];\n      const newItemsIds = Array.from(columnAdd.itemsIds);\n      newItemsIds.push(item_id);\n      console.log(newItemsIds);\n      const newColumnAdd = { ...columnAdd,\n        itemsIds: newItemsIds\n      };\n      const newState = { ...this.state.data,\n        items: { ...this.state.data.items,\n          [item_id]: {\n            id: item_id,\n            content: this.state.itemContent\n          }\n        },\n        columns: { ...this.state.data.columns,\n          \"column-4\": newColumnAdd\n        }\n      };\n      this.setState({\n        data: newState\n      });\n      console.log(this.state.data);\n    };\n\n    this.onDragEnd = result => {\n      const {\n        source,\n        destination,\n        draggableId\n      } = result; // Do nothing if item is dropped outside the list\n\n      if (!destination) {\n        return;\n      } // Do nothing if the item is dropped into the same place\n\n\n      if (destination.droppableId === source.droppableId && destination.index === source.index) {\n        return;\n      } // Find column from which the item was dragged from\n\n\n      const columnStart = this.state.data.columns[source.droppableId]; // Find column in which the item was dropped\n\n      const columnFinish = this.state.data.columns[destination.droppableId]; // Moving items in the same list\n\n      if (columnStart === columnFinish) {\n        // Get all item ids in currently active list\n        const newItemsIds = Array.from(columnStart.itemsIds); // Remove the id of dragged item from its original position\n\n        newItemsIds.splice(source.index, 1); // Insert the id of dragged item to the new position\n\n        newItemsIds.splice(destination.index, 0, draggableId); // Create new, updated, object with data for columns\n\n        const newColumnStart = { ...columnStart,\n          itemsIds: newItemsIds\n        }; // Create new board state with updated data for columns\n\n        const newState = { ...this.state.data,\n          columns: { ...this.state.data.columns,\n            [newColumnStart.id]: newColumnStart\n          }\n        }; // Update the board state with new data\n\n        this.setState({\n          data: newState\n        });\n      } else {\n        // Moving items from one list to another\n        // Get all item ids in source list\n        const newStartItemsIds = Array.from(columnStart.itemsIds); // Remove the id of dragged item from its original position\n\n        newStartItemsIds.splice(source.index, 1); // Create new, updated, object with data for source column\n\n        const newColumnStart = { ...columnStart,\n          itemsIds: newStartItemsIds\n        }; // Get all item ids in destination list\n\n        const newFinishItemsIds = Array.from(columnFinish.itemsIds); // Insert the id of dragged item to the new position in destination list\n\n        newFinishItemsIds.splice(destination.index, 0, draggableId); // Create new, updated, object with data for destination column\n\n        const newColumnFinish = { ...columnFinish,\n          itemsIds: newFinishItemsIds\n        }; // Create new board state with updated data for both, source and destination columns\n\n        const newState = { ...this.state.data,\n          columns: { ...this.state.data.columns,\n            [newColumnStart.id]: newColumnStart,\n            [newColumnFinish.id]: newColumnFinish\n          }\n        }; // Update the board state with new data\n\n        this.setState({\n          data: newState\n        });\n      }\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(BoardEl, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(DragDropContext, {\n      onDragEnd: this.onDragEnd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }\n    }, this.state.data.columnsOrder.map(columnId => {\n      // Get id of the current column\n      const column = this.state.data.columns[columnId]; // Get item belonging to the current column\n\n      const items = column.itemsIds.map(itemId => this.state.data.items[itemId]); // Render the BoardColumn component\n\n      return /*#__PURE__*/React.createElement(BoardColumn, {\n        key: column.id,\n        column: column,\n        items: items,\n        onkey: this.editContent,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 17\n        }\n      });\n    }))), /*#__PURE__*/React.createElement(AddTaskButton, {\n      onClick: this.showInputTask,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, \" New Task \"), /*#__PURE__*/React.createElement(InputTask, {\n      submitClick: this.addNewTask,\n      itemName: this.state.itemContent,\n      onchange: event => {\n        this.setState({\n          itemContent: event.target.value\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/25359/sp/react-dnd-task/src/components/board.tsx"],"names":["React","DragDropContext","styled","InputTask","initialBoardData","BoardColumn","BoardEl","div","AddTaskButton","button","Board","Component","state","data","itemContent","editContent","event","key","itemId","target","id","value","console","log","newState","items","content","setState","blur","showInputTask","inputTask","document","getElementById","style","display","addNewTask","item_index","Object","keys","length","item_id","columnAdd","columns","newItemsIds","Array","from","itemsIds","push","newColumnAdd","onDragEnd","result","source","destination","draggableId","droppableId","index","columnStart","columnFinish","splice","newColumnStart","newStartItemsIds","newFinishItemsIds","newColumnFinish","render","textAlign","columnsOrder","map","columnId","column"],"mappings":"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","sourcesContent":["import * as React from \"react\";\r\nimport { DragDropContext } from \"react-beautiful-dnd\";\r\nimport styled from \"styled-components\";\r\nimport InputTask from \"./InputTask\";\r\n\r\n// Import data for board\r\nimport { initialBoardData } from \"../data/board-initial-data\";\r\n\r\n// Import BoardColumn component\r\nimport { BoardColumn } from \"./board-column\";\r\n\r\n// Create styles board element properties\r\nconst BoardEl = styled.div`\r\n  display: flex;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n`;\r\nconst AddTaskButton = styled.button`\r\n  border-radius: 8px;\r\n  margin-top: 10%;\r\n`;\r\n\r\nexport class Board extends React.Component {\r\n  // Initialize board state with board data\r\n  state = { data: initialBoardData, itemContent: \"\" };\r\n\r\n  editContent = (event:React.KeyboardEvent<HTMLInputElement>) =>{\r\n    if (event.key === \"Enter\") {\r\n      //\r\n      let itemId = (event.target as HTMLInputElement).id;\r\n      let itemContent = (event.target as HTMLInputElement).value;\r\n      console.log((event.target as HTMLInputElement).value);\r\n      console.log((event.target as HTMLInputElement).id);\r\n     \r\n      const newState = {\r\n        ...this.state.data,\r\n        items: {\r\n          ...this.state.data.items,\r\n          [itemId]: { id: itemId, content: itemContent},\r\n        },\r\n      };\r\n      console.log(newState.items)\r\n      this.setState({ data: newState });\r\n      (event.target as HTMLInputElement).blur();\r\n    }\r\n  };\r\n\r\n  showInputTask = () => {\r\n    this.setState({ itemContent: \"\" });\r\n    let inputTask = document.getElementById(\"input-task\");\r\n    if (inputTask !== null) inputTask.style.display = \"block\";\r\n  };\r\n\r\n  addNewTask = () => {\r\n    if (this.state.itemContent === \"\") return;\r\n    // auto generate item_id\r\n    let item_index = Object.keys(this.state.data.items).length + 1;\r\n    let item_id: string = \"item-\" + item_index;\r\n\r\n    // default to put the new added items into column4\r\n    const columnAdd = (this.state.data.columns as any)[\"column-4\"];\r\n\r\n    const newItemsIds = Array.from(columnAdd.itemsIds);\r\n\r\n    newItemsIds.push(item_id);\r\n    console.log(newItemsIds);\r\n    const newColumnAdd = {\r\n      ...columnAdd,\r\n      itemsIds: newItemsIds,\r\n    };\r\n    const newState = {\r\n      ...this.state.data,\r\n      items: {\r\n        ...this.state.data.items,\r\n        [item_id]: { id: item_id, content: this.state.itemContent },\r\n      },\r\n      columns: {\r\n        ...this.state.data.columns,\r\n        \"column-4\": newColumnAdd,\r\n      },\r\n    };\r\n    this.setState({ data: newState });\r\n    console.log(this.state.data);\r\n  };\r\n\r\n  // Handle drag & drop\r\n  onDragEnd = (result: any) => {\r\n    const { source, destination, draggableId } = result;\r\n\r\n    // Do nothing if item is dropped outside the list\r\n    if (!destination) {\r\n      return;\r\n    }\r\n\r\n    // Do nothing if the item is dropped into the same place\r\n    if (\r\n      destination.droppableId === source.droppableId &&\r\n      destination.index === source.index\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    // Find column from which the item was dragged from\r\n    const columnStart = (this.state.data.columns as any)[source.droppableId];\r\n\r\n    // Find column in which the item was dropped\r\n    const columnFinish = (this.state.data.columns as any)[\r\n      destination.droppableId\r\n    ];\r\n\r\n    // Moving items in the same list\r\n    if (columnStart === columnFinish) {\r\n      // Get all item ids in currently active list\r\n      const newItemsIds = Array.from(columnStart.itemsIds);\r\n\r\n      // Remove the id of dragged item from its original position\r\n      newItemsIds.splice(source.index, 1);\r\n\r\n      // Insert the id of dragged item to the new position\r\n      newItemsIds.splice(destination.index, 0, draggableId);\r\n\r\n      // Create new, updated, object with data for columns\r\n      const newColumnStart = {\r\n        ...columnStart,\r\n        itemsIds: newItemsIds,\r\n      };\r\n\r\n      // Create new board state with updated data for columns\r\n      const newState = {\r\n        ...this.state.data,\r\n        columns: {\r\n          ...this.state.data.columns,\r\n          [newColumnStart.id]: newColumnStart,\r\n        },\r\n      };\r\n\r\n      // Update the board state with new data\r\n      this.setState({ data: newState });\r\n    } else {\r\n      // Moving items from one list to another\r\n      // Get all item ids in source list\r\n      const newStartItemsIds = Array.from(columnStart.itemsIds);\r\n\r\n      // Remove the id of dragged item from its original position\r\n      newStartItemsIds.splice(source.index, 1);\r\n\r\n      // Create new, updated, object with data for source column\r\n      const newColumnStart = {\r\n        ...columnStart,\r\n        itemsIds: newStartItemsIds,\r\n      };\r\n\r\n      // Get all item ids in destination list\r\n      const newFinishItemsIds = Array.from(columnFinish.itemsIds);\r\n\r\n      // Insert the id of dragged item to the new position in destination list\r\n      newFinishItemsIds.splice(destination.index, 0, draggableId);\r\n\r\n      // Create new, updated, object with data for destination column\r\n      const newColumnFinish = {\r\n        ...columnFinish,\r\n        itemsIds: newFinishItemsIds,\r\n      };\r\n\r\n      // Create new board state with updated data for both, source and destination columns\r\n      const newState = {\r\n        ...this.state.data,\r\n        columns: {\r\n          ...this.state.data.columns,\r\n          [newColumnStart.id]: newColumnStart,\r\n          [newColumnFinish.id]: newColumnFinish,\r\n        },\r\n      };\r\n\r\n      // Update the board state with new data\r\n      this.setState({ data: newState });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div style={{ textAlign: \"center\" }}>\r\n        <BoardEl>\r\n          <DragDropContext onDragEnd={this.onDragEnd}>\r\n            {this.state.data.columnsOrder.map((columnId) => {\r\n              // Get id of the current column\r\n              const column = (this.state.data.columns as any)[columnId];\r\n\r\n              // Get item belonging to the current column\r\n              const items = column.itemsIds.map(\r\n                (itemId: string) => (this.state.data.items as any)[itemId]\r\n              );\r\n\r\n              // Render the BoardColumn component\r\n              return (\r\n                <BoardColumn\r\n                  key={column.id}\r\n                  column={column}\r\n                  items={items}\r\n                  onkey={this.editContent}\r\n                />\r\n              );\r\n            })}\r\n          </DragDropContext>\r\n        </BoardEl>\r\n        <AddTaskButton onClick={this.showInputTask}> New Task </AddTaskButton>\r\n        <InputTask\r\n          submitClick={this.addNewTask}\r\n          itemName={this.state.itemContent}\r\n          onchange={(event) => {\r\n            this.setState({ itemContent: event.target.value });\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}